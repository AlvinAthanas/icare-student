<ng-container *ngIf="{ forms: forms$ | async } as params">
  <mat-progress-bar
    mode="indeterminate"
    *ngIf="!params?.forms || (params?.forms && params?.forms?.length === 0)"
  ></mat-progress-bar>
  <!-- {{ params?.forms | json }} -->
  <div class="row" *ngIf="params?.forms && params?.forms?.length > 0">
    <div class="col-lg-12 col-md-12 col-sm-12 col-sx-12">
      <fieldset>
        <legend>Fixed Fields</legend>
        <div class="w-100">
          <ng-container *ngFor="let form of params?.forms">
            <div class="h6">
              {{ form?.display }}
            </div>
            <app-form
              *ngIf="
                keyedSelectedFields['fixed'] &&
                keyedSelectedFields['fixed']?.length > 0
              "
              [isFormHorizontal]="true"
              [fields]="keyedSelectedFields['fixed']"
            ></app-form>
            <app-shared-render-batch-defn-fields
              [forms]="[form]"
              (selectedBatchFields)="onGetSelectedBatchFields($event, 'fixed')"
            ></app-shared-render-batch-defn-fields>
          </ng-container>
        </div>
      </fieldset>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-12 col-sx-12">
      <fieldset>
        <legend>Static Fields</legend>
        <div class="w-100">
          <ng-container *ngFor="let form of params?.forms">
            <div class="h6">
              {{ form?.display }}
            </div>
            <app-form
              *ngIf="
                keyedSelectedFields['static'] &&
                keyedSelectedFields['static']?.length > 0
              "
              [isFormHorizontal]="true"
              [fields]="keyedSelectedFields['static']"
            ></app-form>
            <app-shared-render-batch-defn-fields
              [forms]="[form]"
              (selectedBatchFields)="onGetSelectedBatchFields($event, 'static')"
            ></app-shared-render-batch-defn-fields>
          </ng-container>
        </div>
      </fieldset>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-12 col-sx-12">
      <fieldset>
        <legend>Dynamic Fields</legend>
        <div class="w-100">
          <ng-container *ngFor="let form of params?.forms">
            <div class="h6">
              {{ form?.display }}
            </div>
            <app-form
              *ngIf="
                keyedSelectedFields['dynamic'] &&
                keyedSelectedFields['dynamic']?.length > 0
              "
              [isFormHorizontal]="true"
              [fields]="keyedSelectedFields['dynamic']"
            ></app-form>
            <app-shared-render-batch-defn-fields
              [forms]="[form]"
              (selectedBatchFields)="
                onGetSelectedBatchFields($event, 'dynamic')
              "
            ></app-shared-render-batch-defn-fields>
          </ng-container>
        </div>
      </fieldset>
    </div>
  </div>
</ng-container>
