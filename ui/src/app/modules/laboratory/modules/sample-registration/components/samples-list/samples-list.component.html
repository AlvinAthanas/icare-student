<div *ngIf="{ samples: samples$ | async } as params">
  <table class="table mt-2">
    <thead>
      <tr>
        <th>SN</th>
        <th>Label/Lab No.</th>
        <th>Lab</th>
        <th>Patient Name</th>
        <th>File No</th>
        <th>Registered By</th>
        <th>Date Registered</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngIf="!params?.samples">
        <tr>
          <td colspan="100%">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
          </td>
        </tr>
      </ng-container>
      <ng-container
        *ngIf="params?.samples && params?.samples?.results?.length > 0"
      >
        <tr *ngFor="let sample of params?.samples?.results; let count = index">
          <td>
            {{
              (count+1) + ((page-1)*pageSize)
            }}
          </td>
          <td>
            {{ sample?.label }}
          </td>
          <td>
            {{ sample?.location?.display }}
          </td>
          <td>
            {{ sample?.patient?.givenName?.toUpperCase() }} {{ sample?.patient?.middleName?.length > o ? sample?.patient?.middleName?.toUpperCase() : "" }} {{ sample?.patient?.familyName?.toUpperCase() }}
          </td>
          <td>
            {{ sample?.patient?.identifiers[0]?.id }}
          </td>
          <td>
            {{ sample?.creator?.name }}
          </td>
          <td>
            {{ sample?.dateCreated | date: "medium" }}
          </td>
          <td>
            <button mat-icon-button [matMenuTriggerFor]="menu">
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item [disabled]="true">
                <mat-icon>edit</mat-icon>
                Edit
              </button>
            </mat-menu>
          </td>
        </tr>
      </ng-container>
      <ng-container
        *ngIf="params?.samples && params?.samples?.results?.length === 0"
      >
        <tr>
          <td colspan="100%">
            <div class="alert alert-warning" role="alert">No samples</div>
          </td>
        </tr>
      </ng-container>
    </tbody>
  </table>
  <mat-paginator 
    [length]="params?.samples?.pager?.total"
    [pageSize]=""
    [pageSizeOptions]="[10, 20, 50, 100]"
    (page)="onPageChange($event)"
  >

  </mat-paginator>
  <!-- <div class="d-flex justify-content-end">
    <button
      mat-stroked-button
      [disabled]="
        !params?.samples?.pager ||
        (params?.samples?.pager && params?.samples?.pager?.page === 1)
      "
      (click)="onGetSamples($event, 'prev', params?.samples?.pager)"
    >
      Prev
    </button>
    <button
      mat-stroked-button
      class="ml-2"
      [disabled]="!params?.samples?.pager"
      (click)="onGetSamples($event, 'next', params?.samples?.pager)"
    >
      Next
    </button>
  </div> -->
</div>
