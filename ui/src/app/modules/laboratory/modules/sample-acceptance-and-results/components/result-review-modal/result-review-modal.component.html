<mat-toolbar color="primary">Lab Results - {{ dialogData?.sample?.patient?.givenName }} {{ dialogData?.sample?.patient?.familyName }}</mat-toolbar>
<div class="row">
    <div class="col-12">
      <!-- Table -->
      <table class="table table-bordered">
        <thead class="table-header">
          <tr>
            <th rowspan="2">SN</th>
            <th rowspan="2">
              Test Taken
            </th>
            <th colspan="2">Test Results</th>
          </tr>
          
        </thead>
        <tbody>
          <ng-container *ngIf="results.length > 0">
            <ng-container
              *ngFor="
                let result of results;
                let count = index
              "
            >
              <tr>
                <td>
                  {{ count + 1 }}
                </td>
                <td>
                  {{ result.testName }}
                </td>
                <td *ngIf="result.results.length > 0">
                  <span *ngFor="
                    let singleResult of result.results;
                    let counter = index">
                    <span *ngIf="singleResult?.valueCoded">
                      {{ counter + 1 }}. {{ singleResult?.valueCoded?.display }} <br>
                    </span>
                    <span *ngIf="singleResult?.valueComplex">
                      {{ counter + 1 }}. {{ singleResult?.valueComplex.display }} <br>
                    </span>
                    <span *ngIf="singleResult?.valueText">
                      {{ counter + 1 }}. {{ singleResult?.valueText }} <br>
                    </span>
                    <span *ngIf="singleResult?.valueNumeric">
                      {{ counter + 1 }}. {{ singleResult?.valueNumeric }} <br>
                    </span>
                    <span *ngIf="singleResult?.valueBoolean">
                      {{ counter + 1 }}. {{ singleResult?.valueBoolean }} <br>
                    </span>
                  </span>

                </td>
                <td *ngIf="result.results.length === 0">
                  <span>
                    No Results Yet</span>
                </td>
              </tr>
            </ng-container>
          </ng-container>
          <ng-container *ngIf="results.length == 0">
            <tr>
              <td colspan="14" class="text-danger text-center">
                No Results Yet
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
</div>
