<div *ngIf="{ testParameter: testParameter$ | async } as params">
  <mat-progress-bar
    mode="indeterminate"
    color="primary"
    *ngIf="!params?.testParameter"
  ></mat-progress-bar>
  <app-result-entry-form
    *ngIf="params?.testParameter"
    [parameter]="params?.testParameter"
    [value]="
      latestResult?.valueNumeric
        ? latestResult?.valueNumeric
        : latestResult?.valueBoolean
        ? latestResult?.valueBoolean
        : latestResult?.valueComplex
        ? latestResult?.valueComplex
        : latestResult?.valueCoded
        ? latestResult?.valueCoded
        : latestResult?.valueText
        ? latestResult?.valueText
        : latestResult?.valueModifier
        ? latestResult?.valueModifier
        : null
    "
    [multipleResultsAttributeType]="multipleResultsAttributeType"
    (formData)="onGetFormData($event, params?.testParameter)"
  ></app-result-entry-form>
</div>
